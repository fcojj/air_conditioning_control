#include <IRremote.h>
IRsend irsend;
#include <SoftwareSerial.h>
SoftwareSerial EEBlue(10, 11); // RX | TX
#include <avr/pgmspace.h>
const uint16_t f18[] PROGMEM= {9060,4544,624,1644,628,1640,628,516,624,520,600,548,620,532,600,556,628,1652,600,536,620,1648,624,1648,620,528,624,524,624,528,620,536,600,544,604,536,620,516,624,520,620,524,628,520,628,528,596,560,624,520,624,512,624,1644,600,544,620,528,624,524,620,532,628,532,620,524,600,536,600,540,624,520,624,520,624,524,624,532,596,560,600,544,600,540,592,544,628,516,620,528,616,532,624,528,600,560,624,504,628,7992,624,512,624,516,624,520,624,520,624,1656,600,556,628,528,624,1652,600,1668,624,516,600,1676,596,548,628,524,624,528,624,532,600,548,596,540,624,512,600,544,628,520,620,528,624,532,596,556,624,524,592,544,596,544,600,544,596,548,624,528,624,528,624,532,624,524,596,540,620,516,628,516,624,520,596,556,596,556,624,532,624,524,624,512,620,520,624,520,596,548,624,524,624,532,620,536,624,520,600,536,596,544,624,520,624,520,624,528,620,532,596,560,624,520,624,1644,624,1648,596,1676,624,528,620,1656,624,532,624,532,624,1636,624,7996,612,528,624,516,624,516,596,548,628,524,620,536,624,528,600,548,628,508,624,1644,604,540,628,520,624,524,600,552,624,532,628,520,624,512,596,540,628,516,624,520,600,548,628,528,592,564,596,548,600,536,628,512,628,512,628,520,620,528,624,528,600,556,624,520,624,516,620,516,624,516,624,524,624,524,624,528,624,536,620,524,596,540,596,544,596,544,624,520,596,556,624,528,620,536,624,520,596,540,624,1644,604,544,628,516,628,524,600,552,596,560,624,504,584};
const uint16_t f19[] PROGMEM= {9060,4548,624,1644,596,1672,604,540,600,548,600,548,628,524,624,536,624,1648,624,516,620,1648,624,1648,628,520,628,520,624,528,600,556,628,520,600,536,600,540,596,544,624,524,596,552,604,548,624,536,596,548,600,536,628,1644,604,536,628,520,624,1656,596,560,620,532,604,544,628,508,620,520,624,516,600,548,624,524,596,556,624,532,596,552,596,540,600,536,600,544,620,524,628,520,628,528,600,556,624,504,624,8000,600,536,624,516,624,520,620,524,624,1656,600,552,600,556,632,1648,596,1668,624,516,624,1648,600,548,600,548,604,552,600,556,624,524,596,536,600,540,600,544,596,548,596,556,628,524,624,532,624,520,600,540,600,536,620,524,624,520,624,524,624,532,628,556,572,548,620,512,624,516,624,520,624,520,624,528,624,532,596,556,628,520,624,512,624,516,620,520,628,520,624,524,624,528,600,560,600,544,628,508,600,536,628,516,628,516,628,524,628,528,596,560,600,544,624,1640,600,1672,628,1644,604,548,628,516,628,528,600,556,628,1632,628,7996,600,536,624,512,624,520,624,524,628,520,620,532,628,528,628,520,600,536,600,1668,632,512,628,520,624,524,628,524,624,536,624,520,600,532,632,508,624,520,600,548,624,524,624,528,624,532,600,544,600,536,600,536,628,516,624,520,632,520,628,524,600,556,628,520,596,540,620,520,596,544,628,516,632,520,628,524,600,560,612,532,600,536,600,540,596,544,624,524,600,552,596,552,624,536,624,520,628,508,624,1644,628,516,600,544,628,524,596,556,596,564,596,528,580};
const uint16_t f20[] PROGMEM= {9104,4480,660,1600,636,1632,660,512,628,488,660,488,656,492,660,524,632,1612,656,480,660,1604,660,1612,636,508,660,516,612,516,632,520,628,516,656,476,656,484,632,508,632,512,656,492,656,492,636,548,604,544,624,480,656,1608,660,484,632,536,636,492,652,1620,640,524,628,512,636,496,636,532,604,536,604,512,632,544,604,520,628,524,636,508,656,476,636,532,608,508,632,512,632,516,656,492,656,500,632,496,632,7972,660,476,628,512,628,508,632,544,600,1644,636,520,628,524,632,1640,632,1632,632,1636,632,1636,636,540,600,520,628,520,656,500,656,516,604,504,632,504,632,536,604,512,632,516,632,548,604,552,604,512,632,500,632,508,632,536,604,512,632,516,632,548,600,528,628,516,628,504,632,500,636,536,608,508,632,516,632,520,632,524,628,544,600,504,632,504,632,540,604,508,636,512,632,524,628,524,628,516,632,500,632,508,628,540,604,512,632,516,656,496,632,520,632,512,636,1624,636,504,632,1636,636,540,604,1640,632,1648,636,520,636,1620,640,7968,664,472,636,528,604,512,656,484,636,512,660,520,604,524,632,540,628,480,656,1604,632,540,604,508,636,516,636,544,628,496,632,516,652,508,604,532,604,536,632,516,604,540,608,516,660,496,632,540,600,532,604,508,632,536,604,540,604,516,632,520,632,520,660,512,604,500,660,508,604,508,636,540,600,516,656,524,604,552,628,516,604,500,632,532,604,512,632,512,656,492,632,520,632,548,604,512,632,500,632,1636,632,508,656,488,632,516,632,520,628,524,636,520,592};
const uint16_t f21[] PROGMEM= {9084,4504,660,1600,664,1604,664,508,632,484,656,492,636,544,632,496,656,1616,660,476,632,1632,660,1612,636,540,604,512,636,516,632,552,608,508,660,504,604,504,660,508,604,512,636,512,636,544,604,524,636,508,660,472,636,1632,636,504,636,516,656,1616,636,1644,664,492,660,488,632,504,632,532,604,504,640,508,632,516,632,516,636,520,636,536,604,500,636,504,632,508,636,512,632,540,608,516,636,520,632,496,632,7976,636,500,632,504,632,508,632,512,632,1644,632,520,632,552,600,1640,636,1632,632,1636,632,1636,636,512,632,516,632,520,636,516,636,508,636,500,632,508,628,512,632,512,636,512,632,520,632,520,636,512,632,500,632,504,636,508,628,544,600,548,600,524,632,524,632,512,628,508,628,504,636,508,628,516,632,516,632,516,636,524,628,516,628,504,628,508,636,508,656,488,628,520,632,520,628,528,628,512,632,504,628,508,632,540,600,516,632,544,604,520,628,552,604,512,636,1628,632,508,632,1636,636,508,632,516,632,1648,636,520,632,1624,636,7972,640,524,604,508,628,512,632,512,632,516,636,516,632,520,632,516,632,532,604,1632,632,512,632,512,632,512,636,520,628,524,632,512,628,508,628,536,600,516,632,508,632,544,604,520,632,520,636,512,632,532,604,504,632,504,636,512,636,512,632,520,632,552,604,540,600,508,628,508,632,536,604,512,628,548,600,552,600,524,636,512,632,496,636,532,604,512,628,512,632,548,604,516,636,548,604,512,660,476,632,1632,636,508,632,508,636,512,632,524,628,524,632,524,588};
const uint16_t f22[] PROGMEM= {9080,4504,636,1628,632,1636,632,508,632,512,632,516,632,520,632,524,628,1644,632,504,628,1640,628,1640,632,512,632,520,628,520,632,524,632,512,628,508,628,508,632,508,632,512,632,516,628,524,632,524,628,516,628,504,632,1636,628,512,632,516,628,516,632,520,632,1652,632,512,632,500,632,508,632,508,632,512,624,524,628,520,632,524,632,512,624,512,628,508,632,508,632,508,632,516,632,520,632,524,632,496,632,7976,628,508,632,504,632,512,624,516,632,1648,632,520,628,524,632,1644,628,1636,628,1640,604,1664,604,544,632,516,628,552,600,524,604,540,628,508,628,508,628,512,628,516,628,520,628,524,628,524,632,512,628,508,628,512,628,512,632,512,628,520,628,524,632,520,632,516,628,504,628,512,632,504,628,520,628,520,628,524,628,524,628,516,632,504,628,508,628,512,628,520,628,516,632,520,632,524,628,516,628,508,628,508,628,512,628,516,624,524,628,524,628,524,628,520,624,1636,632,508,632,1636,628,516,632,1648,628,524,628,1652,636,1620,632,7976,632,504,632,508,628,512,632,512,628,524,624,524,628,528,632,512,628,508,624,1640,632,508,628,520,600,548,628,520,632,524,632,512,628,508,628,508,628,512,628,516,632,516,632,520,628,528,628,516,604,528,628,512,628,512,628,516,628,520,624,524,632,524,632,512,632,508,628,508,628,512,624,520,628,516,636,516,632,524,624,520,632,500,628,512,628,512,628,516,628,520,628,524,628,524,628,520,628,504,628,1636,636,508,628,516,628,516,632,520,604,552,628,500,616};
const uint16_t f23[] PROGMEM= {9080,4512,628,1636,632,1636,628,516,624,516,632,516,628,524,632,524,632,1644,628,504,628,1640,628,1640,632,516,600,548,632,520,624,528,632,512,628,508,628,508,624,516,628,516,628,524,628,520,628,528,604,540,632,504,628,1636,632,512,632,512,628,1652,628,520,632,1656,628,520,628,500,632,508,628,512,628,516,632,516,632,520,628,528,628,516,628,508,632,504,632,512,628,516,624,524,632,520,600,552,604,524,632,7980,632,504,628,508,632,512,628,516,604,1676,628,524,628,524,632,1644,628,1636,628,1640,632,1640,628,516,632,516,628,524,628,524,628,520,624,508,632,536,600,512,624,520,604,544,628,524,624,532,624,520,632,500,608,532,628,512,628,520,628,520,628,524,628,524,628,520,628,508,628,508,628,512,632,512,628,520,628,524,628,524,632,512,632,504,628,508,628,512,628,516,600,548,628,524,624,528,632,516,624,508,628,508,628,516,628,516,628,520,624,524,628,528,604,544,600,1660,628,508,604,1668,628,520,632,516,628,524,628,1656,628,1628,628,7980,628,508,628,508,628,512,632,516,628,516,632,528,620,528,628,516,628,508,628,1636,628,512,632,516,628,520,624,524,632,524,632,512,628,508,628,508,628,512,628,532,588,544,632,520,632,524,628,516,628,508,624,516,628,508,628,520,628,520,628,524,624,532,632,512,628,508,628,508,628,512,628,520,624,524,628,520,628,532,624,516,628,508,600,540,628,512,628,516,632,516,628,524,632,524,632,512,600,536,628,1640,632,508,628,520,628,520,628,524,628,528,628,496,588};
const uint16_t f24[] PROGMEM= {9084,4512,632,1632,632,1636,632,512,628,516,632,512,636,520,632,520,636,1640,636,528,600,1636,636,1636,636,512,628,520,632,520,628,524,636,512,628,504,628,508,632,540,600,516,632,512,632,524,628,524,632,512,632,504,628,1636,632,512,628,516,632,516,628,1648,636,1652,632,516,632,500,632,508,628,512,640,504,628,516,632,524,632,524,628,512,632,500,632,508,632,512,628,516,628,520,628,524,628,524,632,496,632,7976,636,500,632,536,600,508,636,512,632,1644,604,548,636,524,628,1640,632,504,632,504,632,508,632,1644,628,520,632,520,628,528,628,516,632,504,632,504,628,512,632,512,632,516,628,524,628,528,628,516,632,500,632,504,632,512,628,516,632,516,632,520,628,524,636,512,628,504,632,504,636,536,600,516,636,512,624,524,636,520,632,516,632,500,628,512,628,512,632,540,600,548,600,520,636,524,628,516,632,500,636,504,628,540,604,512,632,516,628,524,632,524,628,516,628,504,632,1632,636,540,604,1636,636,1644,636,1648,636,1648,636,1624,636,7972,636,504,628,508,636,504,628,548,604,544,604,516,632,524,628,516,632,504,632,1636,636,536,604,508,636,516,632,520,632,520,632,544,608,524,604,508,632,504,636,540,600,548,596,524,632,524,632,512,628,508,632,504,632,508,636,508,608,540,636,520,628,520,636,512,628,504,632,508,632,508,628,516,632,516,632,516,636,524,628,512,636,500,628,508,636,504,632,544,604,516,632,520,632,524,632,512,632,500,632,1632,632,516,628,516,628,548,604,516,636,520,632,496,616};
const uint16_t f25[] PROGMEM= {9076,4508,632,1636,628,1636,632,512,628,512,632,520,628,524,632,520,604,1664,636,500,628,1636,608,1664,628,516,600,544,632,520,604,548,632,512,632,504,628,508,628,512,632,512,628,520,628,524,600,552,632,512,632,504,604,1660,632,512,600,544,604,1672,628,1652,628,1656,632,516,628,508,628,508,600,540,628,516,628,520,600,552,600,552,628,516,628,508,624,512,600,540,600,544,604,544,604,548,624,532,600,524,632,7972,632,504,628,512,624,516,632,508,628,1652,628,524,624,528,628,1644,632,504,628,508,632,508,632,1640,632,520,628,524,632,520,600,544,604,532,624,508,608,536,624,520,600,548,628,524,628,524,628,516,632,500,628,512,632,508,624,520,628,520,600,552,624,528,628,516,628,508,628,508,624,516,628,516,628,520,628,524,628,528,600,544,632,500,604,536,604,536,632,512,632,516,628,520,628,532,628,512,632,504,628,508,632,508,632,512,628,520,632,520,632,524,628,516,628,508,628,1640,628,512,628,1644,604,544,632,1648,632,1652,632,1628,632,7976,628,508,624,512,632,512,628,516,624,520,624,532,628,524,604,544,600,532,628,1636,632,512,628,516,628,520,628,524,600,552,632,512,628,508,600,536,628,512,604,540,628,520,632,520,632,524,600,544,628,504,632,508,632,508,632,512,628,520,632,520,628,528,632,512,632,504,628,508,604,540,624,520,604,540,632,520,608,548,636,512,628,504,600,536,628,516,628,516,624,524,628,524,628,528,624,520,624,508,628,1640,632,508,628,516,604,544,632,520,628,528,604,520,612};
const uint16_t f26[] PROGMEM= {9080,4516,624,1636,632,1636,628,516,600,544,628,520,628,524,628,528,632,1640,632,504,632,1636,624,1648,632,516,624,520,632,520,604,552,632,512,624,512,628,508,604,540,624,520,600,548,604,548,628,528,624,520,632,500,632,1636,628,516,628,516,604,544,628,524,604,552,624,1648,628,508,600,536,628,516,600,544,600,548,600,552,628,528,628,516,628,504,628,512,600,540,596,548,624,524,628,524,624,532,624,500,628,7980,604,532,628,508,624,516,632,512,632,1644,632,524,624,532,628,1644,604,532,624,512,628,512,600,1672,604,548,628,524,624,528,600,548,624,508,600,536,628,516,628,512,628,520,604,548,628,528,628,516,628,504,632,508,628,512,628,516,628,520,628,524,604,548,604,544,632,504,624,512,620,520,624,520,600,548,628,524,624,528,628,516,632,504,628,508,632,512,628,512,632,520,624,528,628,528,628,516,628,504,604,532,604,540,604,540,604,544,600,552,628,524,628,516,632,504,632,1636,628,512,632,1644,628,1652,624,528,628,528,624,504,628,7980,628,508,624,512,632,512,624,520,604,544,632,520,632,524,628,516,628,508,600,1664,632,512,628,516,600,548,628,524,628,524,628,520,600,532,600,536,628,512,628,516,628,520,628,520,632,524,628,516,632,500,628,512,628,512,628,516,600,548,628,524,628,524,628,516,628,504,636,504,628,512,628,516,628,524,596,552,628,528,624,516,632,504,628,512,624,512,628,516,628,520,628,528,628,524,628,516,628,504,632,1636,604,540,624,516,632,520,628,520,628,528,628,500,580};
const uint16_t c30[] PROGMEM= {9084,4508,608,1656,604,1664,632,508,608,536,608,540,608,544,608,548,632,1640,608,528,604,1664,604,1668,604,540,604,544,604,548,604,548,608,536,632,504,604,532,604,536,608,536,608,540,604,548,604,552,604,540,604,528,608,532,604,536,604,540,604,544,632,520,604,1680,604,1672,604,528,628,512,600,536,632,516,600,544,628,524,604,552,628,516,604,528,608,528,608,532,632,516,604,540,632,520,608,548,628,496,608,7996,608,528,612,524,632,508,608,536,632,516,604,548,604,548,632,1640,608,528,604,1660,608,1664,608,536,604,544,604,548,604,548,604,540,632,504,604,532,604,536,604,540,604,540,608,544,608,548,608,536,604,528,604,536,624,512,608,536,608,540,608,544,604,548,632,516,604,528,604,532,604,536,608,536,608,540,632,520,632,520,608,540,604,528,604,532,604,536,604,540,604,544,604,548,604,548,632,512,604,532,604,532,604,536,604,536,608,544,604,544,604,552,604,536,608,528,604,1660,632,1636,632,516,604,544,604,544,608,1676,608,520,608,8000,604,528,608,532,604,536,604,536,608,540,604,548,608,548,604,540,604,528,608,1660,604,536,608,536,608,540,604,548,604,548,608,536,604,528,632,508,604,536,604,540,604,544,604,544,608,548,604,540,632,504,604,532,604,536,632,512,604,544,604,548,604,548,604,540,608,524,608,532,604,536,604,536,632,516,604,548,604,548,608,536,632,504,604,532,604,536,608,536,604,544,628,524,604,548,604,540,604,528,632,1632,608,536,604,540,604,544,604,544,608,548,604,520,584};
const uint16_t c29[] PROGMEM= {9056,4532,636,1632,632,1636,604,536,620,524,608,540,632,520,632,524,632,1644,632,504,604,1660,632,1640,608,536,632,516,608,548,628,524,628,516,604,532,604,532,632,512,604,536,608,540,636,516,632,524,604,544,604,528,632,504,608,536,628,516,632,1644,632,1652,608,548,632,1644,608,524,636,504,608,532,608,540,604,544,604,544,636,524,632,512,628,504,608,532,604,536,608,536,612,536,636,516,608,548,632,496,636,7976,608,528,604,532,608,532,608,540,608,540,604,544,612,544,608,1668,632,1632,608,532,604,1664,608,536,636,512,632,520,608,548,628,516,628,504,632,508,632,508,608,536,608,540,632,520,608,548,608,536,608,524,608,532,632,508,632,512,608,540,628,520,636,520,608,536,632,504,632,504,608,532,608,536,608,540,608,544,604,548,636,508,608,524,608,532,604,536,608,536,608,540,612,540,632,524,604,536,608,528,608,532,604,536,632,512,608,540,608,544,632,520,608,536,608,1656,632,508,632,1636,608,540,632,1644,632,1648,608,548,608,520,608,7996,636,500,608,532,628,512,608,536,632,516,608,544,604,548,608,536,636,500,636,1632,608,532,632,512,636,512,608,544,608,548,604,540,604,528,608,532,632,508,632,512,604,544,632,520,608,544,632,512,612,524,608,528,608,532,608,536,636,512,632,520,608,544,608,536,608,528,608,528,608,532,608,536,608,540,608,544,608,548,608,536,612,524,604,532,632,508,632,512,608,540,632,520,608,548,632,512,632,500,608,1660,608,532,612,536,608,540,608,544,608,548,632,492,584};
const uint16_t c28[] PROGMEM= {9064,4532,608,1656,608,1660,612,528,632,516,632,516,604,544,608,548,612,1664,608,528,608,1660,608,1660,608,540,604,544,608,544,608,548,608,536,612,524,604,532,608,532,608,540,604,544,604,544,636,520,608,536,608,528,604,532,608,536,604,540,628,520,632,1652,632,520,608,1668,608,528,604,532,608,532,608,536,608,544,604,548,604,548,608,540,628,504,608,528,612,532,628,516,604,544,612,540,608,544,616,512,608,8004,636,496,608,532,608,532,608,536,632,520,604,544,608,548,608,1668,632,1628,608,532,632,1636,608,540,604,544,604,548,604,548,608,536,608,528,604,532,608,536,608,536,604,544,604,544,608,548,608,536,632,500,608,532,628,512,632,512,604,544,608,544,608,548,604,540,604,528,608,532,608,532,604,536,608,544,604,548,604,552,608,536,632,500,608,532,632,508,604,540,608,540,608,544,628,528,604,540,604,528,608,532,608,532,608,540,608,540,604,548,632,524,604,540,608,1656,608,532,632,1636,608,540,608,540,608,1672,608,552,604,524,608,8004,608,528,604,532,608,532,608,536,608,544,604,544,608,552,608,536,608,524,608,1660,612,532,608,536,608,544,608,544,604,548,632,516,604,528,608,532,604,536,632,512,608,540,612,540,632,524,608,536,608,528,608,528,612,532,604,540,608,540,632,520,604,552,608,536,608,524,608,532,608,532,608,536,608,544,628,524,628,524,632,512,608,528,632,508,604,536,608,532,612,540,608,544,608,548,608,536,604,528,604,1664,608,532,608,536,612,536,608,544,608,548,604,524,580};
const uint16_t c27[] PROGMEM= {9056,4536,604,1660,632,1632,612,532,608,536,608,540,632,520,608,548,632,1640,608,528,608,1660,608,1664,632,512,608,540,608,544,628,528,604,540,608,524,608,532,608,532,608,536,632,516,608,544,608,548,604,540,608,528,604,532,608,532,608,540,604,1672,608,544,608,548,608,1668,604,528,632,504,632,512,604,540,632,516,608,544,608,548,632,512,608,528,628,508,608,532,636,512,628,516,608,544,632,524,608,520,608,8000,608,528,608,528,608,536,604,540,628,520,604,548,604,552,632,1640,632,1632,636,504,604,1664,608,540,608,540,604,544,636,520,632,516,604,528,608,528,632,512,632,512,604,540,636,516,608,548,604,540,608,524,608,532,608,532,608,536,608,540,608,544,632,520,608,536,632,504,608,528,632,508,608,536,608,544,604,544,608,548,604,540,632,504,604,532,604,536,608,536,608,540,632,520,604,552,608,536,632,500,608,528,608,536,604,540,604,544,628,520,608,548,608,536,608,1656,612,528,632,1636,608,540,604,1672,608,544,608,548,608,516,632,7980,632,500,632,508,608,532,636,508,608,540,608,544,608,548,632,512,608,524,608,1664,608,532,632,512,608,540,608,544,628,528,604,540,604,532,604,532,608,532,636,512,604,544,608,544,604,548,608,540,608,524,608,532,604,536,608,536,628,520,632,520,608,548,632,512,632,504,604,532,604,536,608,536,632,516,632,520,608,548,608,536,604,532,608,528,608,532,608,536,636,512,608,544,608,548,632,512,608,528,604,1664,604,536,604,540,608,540,608,544,608,544,636,492,584};

//const uint16_t* const frioTemp[] PROGMEM = {f18/*,f19,f20,f21,f22,f23,f24,f25,f26*/};

void  mySendRaw (IRsend & dev, const unsigned int buf[],  unsigned int len,  unsigned int khz)
{
  irsend.enableIROut(khz);
  for (unsigned int i = 0;  i < len;  i++) {
    if (i & 1)  irsend.space(pgm_read_word_near(&(buf[i]))) ;
    else        irsend.mark (pgm_read_word_near(&(buf[i]))) ;
  }
  irsend.space(0);  // Always end with the LED off
 }

void setup(){
    Serial.begin(9600);
    EEBlue.begin(9600);  //Baud Rate for command Mode. 
    delay(3000); 
    while (!Serial) {
    ; // wait for serial port to connect. Needed for native USB port only
    }
    pinMode(9, OUTPUT);
}

String leStringSerial(){
  String conteudo = "";
  char caractere;
  
  // Enquanto receber algo pela serial
 // while(Serial.available() > 0) {
 while(EEBlue.available() > 0) {
    // Lê byte da serial
    //caractere = Serial.read();
    caractere = EEBlue.read();
    // Ignora caractere de quebra de linha
    if (caractere != '\n'){
      // Concatena valores
      conteudo.concat(caractere);
    }
    // Aguarda buffer serial ler próximo caractere
    delay(10);
  }
  //Serial.print("Recebi: ");
  //Serial.println(conteudo);
  
  EEBlue.print("Recebi: ");
  EEBlue.println(conteudo);
  
  return conteudo;
}
void loop() {
  // if (Serial.available() > 0){
    //  String comando = leStringSerial();
     // enviarComando(comando);
   //}else{
     // Serial.println("esperando...");
      //delay(500);
    //}

      // Feed any data from bluetooth to Terminal.
     if (EEBlue.available() > 0){
       String comando = leStringSerial();
       enviarComando(comando);
       delay(500);
     }else{
      // EEBlue.println("esperando...");
      // delay(500);
    }
}

void enviarComando(String cmd){
    cmd = cmd.substring(0,cmd.length()-1 );
    if( cmd == "ligar"){
     unsigned int S_pwr[343]={9112, 4548, 616, 1660, 624, 1656, 620, 528, 616, 532, 616, 540, 620, 536, 616, 544, 616, 1672, 620, 520, 620, 1660, 620, 1660, 620, 532, 620, 536, 620, 536, 620, 540, 620, 532, 612, 528, 620, 524, 612, 1668, 616, 536, 620, 536, 616, 540, 620, 540, 620, 528, 616, 524, 616, 1660, 616, 532, 620, 532, 620, 532, 620, 536, 616, 544, 616, 1668, 620, 520, 616, 528, 616, 528, 616, 536, 616, 540, 620, 536, 620, 540, 620, 532, 620, 520, 616, 528, 616, 528, 620, 532, 620, 532, 616, 544, 616, 544, 616, 516, 616, 8032, 624, 520, 616, 524, 616, 532, 616, 532, 616, 540, 612, 544, 616, 544, 616, 1668, 624, 516, 616, 528, 616, 1664, 616, 1672, 616, 540, 616, 1672, 624, 540, 612, 536, 616, 524, 620, 524, 616, 532, 620, 532, 616, 536, 620, 540, 620, 540, 624, 528, 620, 520, 620, 524, 612, 536, 616, 536, 612, 536, 624, 536, 620, 540, 624, 528, 616, 524, 620, 524, 616, 528, 624, 528, 620, 536, 612, 544, 620, 540, 616, 536, 616, 524, 616, 528, 616, 532, 616, 536, 616, 536, 616, 544, 616, 544, 620, 528, 620, 520, 616, 528, 620, 528, 612, 536, 620, 536, 616, 540, 616, 544, 620, 532, 620, 520, 620, 1656, 620, 528, 616, 1668, 616, 536, 616, 1676, 616, 544, 620, 512, 612, 8036, 620, 528, 616, 524, 620, 528, 616, 532, 620, 536, 616, 540, 612, 548, 620, 528, 616, 1656, 624, 524, 620, 524, 616, 536, 620, 532, 620, 536, 616, 548, 620, 528, 616, 520, 620, 524, 612, 532, 616, 536, 612, 540, 616, 540, 616, 544, 620, 532, 620, 516, 620, 528, 612, 532, 616, 532, 620, 532, 620, 540, 612, 548, 620, 528, 612, 528, 612, 532, 620, 524, 616, 536, 612, 540, 620, 536, 616, 544, 620, 528, 620, 520, 616, 528, 612, 532, 620, 532, 612, 540, 624, 536, 616, 544, 620, 528, 620, 1656, 616, 528, 620, 524, 620, 532, 616, 536, 620, 536, 620, 540, 620, 512, 616};
      irsend.sendRaw(S_pwr, 343, 38);
    } else if(cmd == "calor"){
      unsigned int S_hot[343]={9048, 4532, 608, 1656, 604, 1660, 604, 536, 608, 536, 608, 540, 604, 548, 604, 548, 604, 1668, 604, 528, 604, 1660, 604, 1668, 604, 536, 608, 540, 608, 544, 604, 548, 604, 540, 604, 528, 636, 504, 604, 536, 604, 536, 632, 516, 608, 544, 604, 548, 632, 512, 604, 528, 608, 528, 604, 536, 608, 536, 604, 1672, 628, 524, 604, 1676, 608, 536, 608, 528, 604, 532, 604, 536, 604, 540, 604, 544, 628, 520, 604, 552, 604, 536, 608, 528, 604, 532, 608, 532, 608, 536, 608, 540, 608, 544, 604, 548, 632, 496, 632, 7972, 608, 528, 604, 532, 604, 536, 604, 540, 604, 544, 604, 544, 604, 552, 604, 1668, 604, 528, 604, 1664, 604, 536, 604, 1668, 628, 520, 604, 548, 604, 548, 636, 508, 604, 528, 604, 532, 608, 532, 636, 508, 608, 540, 608, 544, 604, 548, 632, 512, 608, 528, 604, 532, 608, 532, 604, 540, 632, 516, 604, 548, 604, 548, 608, 536, 608, 524, 608, 532, 604, 536, 604, 536, 608, 540, 608, 544, 608, 544, 604, 540, 604, 532, 628, 504, 604, 536, 608, 540, 604, 540, 604, 544, 608, 548, 608, 536, 608, 528, 604, 528, 608, 532, 632, 512, 608, 540, 604, 548, 604, 548, 608, 536, 608, 524, 604, 1664, 604, 536, 604, 1668, 604, 1672, 604, 548, 604, 1680, 604, 1648, 608, 8000, 604, 532, 600, 536, 600, 540, 604, 540, 604, 544, 604, 544, 604, 552, 604, 540, 628, 504, 632, 1632, 608, 1664, 608, 536, 604, 544, 604, 548, 604, 548, 608, 540, 604, 528, 604, 532, 604, 536, 604, 540, 604, 544, 604, 548, 604, 548, 604, 540, 604, 532, 600, 536, 600, 540, 604, 540, 604, 540, 604, 548, 604, 548, 608, 540, 604, 528, 604, 532, 604, 536, 600, 540, 608, 540, 608, 544, 604, 548, 604, 540, 604, 532, 604, 532, 604, 536, 604, 540, 604, 544, 604, 544, 604, 552, 604, 540, 604, 528, 604, 1664, 604, 1664, 608, 540, 600, 544, 604, 548, 604, 552, 604, 524, 580};
      irsend.sendRaw(S_hot, 343, 38);
     }else if(cmd == "apagar"){
      unsigned int S_hide[343]={9056, 4532, 608, 1656, 608, 1656, 608, 536, 604, 540, 608, 536, 608, 544, 608, 544, 612, 1664, 608, 524, 632, 1632, 608, 1664, 608, 536, 632, 516, 604, 544, 612, 544, 636, 508, 632, 1632, 604, 532, 636, 504, 608, 536, 608, 540, 608, 544, 608, 544, 636, 512, 604, 528, 608, 1656, 632, 508, 608, 536, 608, 540, 608, 544, 608, 548, 636, 508, 608, 524, 608, 532, 604, 532, 608, 540, 608, 536, 608, 544, 608, 544, 608, 536, 608, 528, 608, 528, 608, 532, 636, 508, 632, 1644, 632, 516, 612, 544, 608, 520, 608, 7992, 636, 500, 608, 528, 608, 532, 632, 512, 608, 540, 636, 1648, 604, 548, 608, 1664, 612, 1652, 632, 504, 632, 512, 604, 1664, 640, 512, 632, 516, 608, 548, 608, 536, 608, 524, 608, 528, 608, 532, 636, 508, 612, 536, 608, 544, 604, 548, 636, 512, 608, 524, 608, 528, 608, 536, 604, 536, 608, 544, 608, 540, 636, 520, 632, 516, 600, 528, 608, 528, 608, 532, 612, 532, 608, 544, 604, 544, 608, 548, 608, 536, 608, 524, 608, 528, 608, 536, 632, 512, 604, 544, 632, 520, 604, 548, 608, 536, 608, 524, 608, 532, 604, 536, 608, 536, 604, 544, 600, 548, 632, 524, 604, 536, 604, 532, 604, 1660, 604, 536, 604, 1672, 604, 1672, 604, 1676, 604, 552, 604, 1652, 604, 8004, 604, 528, 604, 532, 604, 536, 604, 540, 604, 544, 604, 548, 604, 552, 600, 544, 600, 532, 604, 532, 604, 540, 600, 540, 604, 544, 604, 548, 600, 552, 608, 540, 600, 532, 600, 536, 604, 536, 604, 540, 604, 544, 604, 548, 600, 552, 604, 540, 604, 528, 604, 536, 600, 536, 604, 540, 604, 544, 604, 548, 604, 548, 604, 540, 604, 528, 604, 536, 604, 536, 604, 536, 608, 544, 600, 548, 604, 552, 604, 540, 604, 528, 604, 536, 600, 540, 600, 540, 604, 544, 604, 548, 604, 548, 604, 540, 608, 528, 600, 536, 604, 536, 628, 516, 604, 544, 600, 548, 604, 552, 604, 520, 584};
      irsend.sendRaw(S_hide, 343, 38);
     } else if(cmd == "vento"){
      unsigned int S_wind[343]={9104, 4464, 672, 1592, 668, 1596, 668, 500, 640, 504, 636, 508, 640, 512, 636, 516, 636, 1608, 664, 496, 636, 1596, 668, 1600, 668, 504, 640, 508, 640, 512, 636, 516, 636, 508, 636, 1624, 636, 500, 636, 504, 636, 508, 636, 508, 636, 516, 636, 516, 640, 504, 636, 496, 640, 500, 636, 1604, 664, 508, 636, 1608, 668, 1612, 664, 1616, 668, 508, 636, 496, 636, 500, 636, 504, 636, 508, 636, 508, 636, 516, 636, 516, 636, 508, 636, 496, 636, 500, 636, 504, 636, 504, 640, 508, 636, 512, 640, 516, 636, 488, 636, 7932, 668, 496, 636, 500, 636, 500, 640, 504, 640, 508, 636, 512, 640, 516, 636, 1608, 664, 1600, 664, 496, 640, 504, 636, 1604, 668, 508, 636, 512, 640, 516, 636, 508, 636, 496, 636, 500, 636, 504, 636, 504, 640, 508, 640, 512, 636, 516, 636, 508, 636, 496, 640, 496, 640, 500, 640, 504, 640, 508, 640, 512, 636, 516, 640, 504, 636, 496, 640, 496, 640, 500, 640, 504, 640, 508, 636, 512, 640, 516, 636, 508, 636, 496, 640, 496, 640, 500, 640, 504, 636, 512, 636, 512, 640, 516, 640, 504, 636, 496, 640, 496, 640, 500, 640, 504, 640, 508, 640, 512, 636, 516, 640, 504, 640, 496, 636, 500, 636, 1604, 664, 1604, 668, 1612, 668, 1608, 672, 1616, 668, 1584, 672, 7936, 668, 492, 640, 500, 636, 500, 640, 504, 640, 508, 640, 512, 636, 516, 640, 504, 640, 492, 640, 496, 640, 500, 640, 508, 636, 508, 640, 512, 640, 516, 636, 504, 640, 496, 636, 500, 636, 504, 636, 508, 636, 508, 640, 512, 636, 516, 640, 504, 640, 496, 636, 500, 636, 504, 636, 508, 636, 508, 640, 512, 640, 516, 640, 504, 636, 496, 640, 496, 640, 500, 640, 504, 640, 508, 640, 512, 636, 516, 640, 504, 640, 492, 640, 496, 640, 500, 636, 508, 636, 512, 636, 512, 640, 516, 640, 504, 636, 496, 636, 500, 640, 500, 640, 504, 636, 512, 636, 512, 636, 516, 640, 488, 628};
      irsend.sendRaw(S_wind, 343, 38);
     } else if(cmd == "frio"){
      unsigned int S_cold[343]={9044, 4532, 604, 1656, 608, 1656, 608, 532, 628, 516, 604, 544, 604, 544, 608, 544, 636, 1640, 604, 528, 604, 1660, 604, 1664, 608, 536, 604, 544, 628, 520, 604, 552, 608, 532, 604, 528, 604, 532, 608, 532, 608, 536, 628, 516, 608, 544, 604, 552, 604, 536, 608, 528, 604, 1656, 608, 532, 632, 512, 608, 540, 604, 548, 604, 548, 608, 1664, 608, 528, 604, 532, 628, 512, 604, 536, 632, 516, 608, 544, 604, 548, 604, 540, 604, 528, 608, 532, 604, 536, 604, 540, 604, 540, 608, 544, 604, 548, 604, 524, 604, 7996, 608, 528, 604, 528, 608, 536, 604, 536, 608, 540, 604, 548, 604, 548, 608, 1664, 632, 500, 608, 1660, 604, 532, 608, 1668, 604, 540, 608, 548, 600, 552, 604, 540, 604, 528, 604, 532, 608, 532, 604, 540, 604, 540, 632, 520, 604, 548, 604, 540, 604, 528, 604, 532, 604, 536, 604, 540, 604, 540, 608, 544, 604, 548, 604, 540, 604, 528, 608, 528, 604, 536, 608, 536, 604, 544, 604, 544, 604, 552, 604, 536, 608, 528, 604, 532, 604, 536, 608, 532, 604, 544, 604, 552, 600, 548, 604, 540, 604, 528, 608, 528, 608, 536, 604, 536, 604, 544, 608, 544, 604, 548, 608, 536, 608, 528, 604, 532, 604, 536, 608, 1664, 608, 540, 608, 544, 608, 548, 604, 520, 608, 7996, 604, 532, 604, 532, 604, 536, 608, 536, 604, 544, 604, 544, 608, 548, 608, 536, 604, 532, 600, 1660, 608, 1664, 604, 540, 608, 540, 604, 548, 604, 548, 608, 536, 604, 528, 608, 532, 608, 528, 608, 536, 608, 540, 608, 544, 604, 552, 604, 536, 608, 528, 604, 532, 604, 536, 604, 540, 604, 544, 604, 548, 604, 548, 608, 536, 604, 528, 604, 532, 608, 532, 608, 540, 604, 540, 604, 544, 608, 548, 628, 516, 604, 528, 608, 532, 604, 536, 604, 540, 604, 544, 604, 544, 604, 552, 604, 540, 604, 528, 608, 1660, 604, 1664, 608, 536, 604, 544, 604, 548, 604, 548, 608, 520, 584};
      irsend.sendRaw(S_cold, 343, 38);
     } else if(cmd == "sono"){
      unsigned int S_sleep[343]={9064, 4532, 636, 1632, 636, 1632, 612, 532, 632, 512, 636, 512, 612, 540, 636, 520, 608, 1668, 608, 524, 636, 1636, 632, 1636, 636, 512, 612, 532, 612, 540, 612, 544, 636, 512, 608, 1656, 636, 1632, 612, 532, 636, 1640, 632, 516, 608, 544, 608, 548, 608, 540, 632, 500, 632, 1636, 608, 536, 608, 536, 632, 1648, 632, 520, 632, 1652, 636, 508, 636, 496, 636, 504, 636, 508, 608, 536, 636, 512, 636, 516, 612, 544, 632, 512, 612, 524, 628, 508, 636, 508, 636, 512, 632, 516, 632, 520, 636, 520, 632, 496, 608, 8004, 640, 496, 612, 528, 604, 536, 608, 540, 608, 540, 632, 520, 632, 524, 608, 1664, 608, 1656, 636, 504, 632, 1636, 612, 536, 636, 512, 632, 520, 636, 520, 608, 536, 608, 528, 608, 528, 636, 504, 612, 536, 632, 516, 608, 544, 608, 548, 632, 512, 632, 500, 612, 528, 632, 508, 608, 536, 612, 540, 604, 548, 608, 544, 640, 508, 636, 496, 612, 528, 608, 536, 632, 508, 612, 540, 608, 540, 612, 544, 636, 508, 636, 500, 636, 500, 636, 504, 612, 536, 608, 540, 632, 520, 632, 524, 608, 536, 612, 524, 608, 532, 608, 532, 608, 536, 608, 540, 608, 544, 612, 544, 608, 540, 608, 524, 636, 504, 608, 1664, 612, 1664, 636, 1644, 612, 544, 608, 1676, 636, 1624, 636, 7980, 636, 500, 636, 504, 632, 508, 608, 536, 612, 536, 636, 516, 636, 520, 612, 536, 612, 1652, 632, 1636, 636, 508, 636, 508, 612, 536, 636, 520, 608, 544, 640, 508, 612, 520, 636, 504, 636, 504, 612, 536, 636, 512, 608, 544, 636, 520, 636, 508, 640, 496, 612, 528, 636, 504, 636, 512, 608, 540, 632, 520, 636, 520, 612, 536, 632, 500, 636, 504, 632, 508, 636, 508, 636, 512, 636, 516, 636, 524, 636, 508, 608, 528, 640, 500, 632, 508, 636, 508, 636, 516, 632, 520, 632, 524, 632, 512, 632, 1632, 636, 1632, 612, 532, 632, 512, 636, 512, 636, 516, 612, 544, 636, 492, 584};
      irsend.sendRaw(S_sleep, 343, 38);
    } else if(cmd == "turbo"){
      unsigned int S_boost[343]={9052, 4532, 608, 1656, 608, 1656, 608, 532, 632, 512, 636, 512, 608, 544, 604, 548, 608, 1664, 632, 504, 632, 1632, 608, 1664, 636, 508, 608, 540, 632, 520, 632, 520, 632, 512, 608, 1656, 608, 528, 608, 532, 608, 536, 608, 540, 608, 544, 608, 548, 608, 532, 608, 524, 612, 528, 608, 1660, 636, 508, 608, 1672, 604, 1672, 612, 1672, 612, 536, 604, 528, 604, 532, 608, 532, 636, 508, 608, 540, 608, 544, 632, 520, 612, 532, 612, 520, 612, 528, 632, 508, 608, 536, 632, 512, 608, 544, 608, 548, 608, 516, 608, 8000, 608, 528, 632, 504, 632, 508, 608, 536, 604, 544, 632, 520, 604, 548, 636, 1636, 612, 524, 608, 528, 608, 532, 608, 1664, 612, 536, 612, 540, 632, 524, 632, 512, 604, 528, 632, 504, 632, 508, 636, 508, 612, 536, 608, 540, 612, 544, 608, 536, 636, 496, 612, 528, 632, 504, 640, 508, 632, 516, 608, 544, 604, 548, 612, 532, 608, 524, 612, 528, 608, 532, 608, 536, 608, 540, 632, 520, 604, 548, 636, 508, 608, 528, 604, 532, 632, 508, 608, 536, 608, 540, 632, 516, 608, 548, 608, 536, 608, 524, 640, 500, 632, 504, 608, 540, 604, 540, 612, 540, 632, 524, 632, 512, 608, 1652, 636, 504, 608, 1660, 636, 1640, 608, 1668, 636, 1644, 608, 1676, 612, 1644, 612, 7996, 608, 528, 612, 524, 608, 532, 612, 536, 608, 540, 604, 544, 612, 544, 608, 536, 608, 524, 612, 528, 636, 1632, 608, 540, 608, 540, 608, 544, 632, 520, 612, 532, 608, 528, 632, 504, 632, 508, 608, 536, 636, 512, 608, 544, 608, 548, 608, 536, 608, 524, 608, 528, 608, 532, 632, 512, 608, 540, 608, 544, 608, 548, 632, 508, 608, 528, 608, 528, 612, 528, 608, 536, 612, 536, 608, 544, 608, 544, 608, 540, 636, 496, 608, 528, 636, 504, 612, 536, 604, 540, 608, 544, 608, 544, 612, 532, 612, 524, 632, 504, 616, 1652, 608, 536, 632, 516, 608, 544, 608, 544, 612, 516, 584};
      irsend.sendRaw(S_boost, 343, 38);
    } else if(cmd == "gota"){
      //unsigned int S_drop[343]={9044, 4532, 604, 1656, 632, 1636, 604, 536, 604, 540, 604, 540, 608, 544, 628, 524, 608, 1664, 608, 528, 604, 1660, 604, 1664, 628, 516, 604, 544, 604, 544, 604, 552, 604, 540, 604, 528, 604, 532, 604, 536, 604, 540, 608, 540, 604, 548, 604, 552, 628, 516, 604, 1656, 604, 1660, 604, 536, 608, 540, 600, 1672, 604, 1676, 604, 1680, 604, 540, 604, 528, 628, 508, 604, 536, 600, 544, 604, 540, 604, 548, 604, 552, 604, 536, 608, 528, 604, 536, 596, 536, 608, 536, 604, 548, 604, 544, 604, 548, 632, 496, 608, 7996, 604, 532, 600, 536, 628, 512, 604, 540, 604, 544, 604, 544, 604, 552, 604, 1668, 604, 528, 604, 1664, 604, 536, 604, 1668, 628, 520, 604, 544, 632, 524, 604, 540, 600, 532, 604, 532, 604, 536, 604, 540, 628, 520, 600, 548, 604, 548, 604, 540, 604, 528, 604, 536, 600, 540, 600, 540, 628, 520, 604, 544, 604, 552, 600, 544, 600, 528, 604, 536, 600, 536, 608, 536, 608, 540, 628, 520, 604, 552, 604, 536, 604, 532, 604, 532, 604, 536, 604, 540, 624, 520, 604, 548, 604, 548, 628, 516, 600, 532, 604, 532, 628, 512, 608, 536, 604, 540, 628, 520, 608, 548, 628, 512, 632, 1632, 604, 532, 604, 536, 604, 1668, 604, 1668, 608, 1672, 604, 1676, 604, 1652, 604, 7992, 604, 532, 600, 532, 604, 540, 600, 540, 604, 544, 628, 520, 604, 552, 628, 516, 604, 528, 604, 1660, 608, 1664, 604, 540, 604, 544, 604, 544, 604, 552, 600, 540, 604, 532, 604, 532, 604, 536, 604, 540, 604, 544, 600, 548, 604, 552, 604, 536, 604, 528, 604, 532, 604, 540, 600, 540, 604, 544, 604, 548, 600, 552, 604, 540, 604, 528, 604, 536, 600, 536, 604, 540, 604, 544, 604, 544, 608, 548, 604, 540, 604, 528, 604, 536, 628, 508, 608, 536, 604, 544, 604, 544, 608, 548, 600, 544, 600, 532, 600, 1664, 604, 1664, 604, 540, 604, 540, 632, 520, 628, 524, 608, 520, 584};
      //irsend.sendRaw(S_drop, 343, 38);
    } else if(cmd == "f18"){
       mySendRaw(irsend, f18, 343, 38);
    }  else if(cmd == "f19"){
       mySendRaw(irsend, f19, 343, 38);
    }  else if(cmd == "f20"){
       mySendRaw(irsend, f20, 343, 38);
    }  else if(cmd == "f21"){
       mySendRaw(irsend, f21, 343, 38);
    }  else if(cmd == "f22"){
       mySendRaw(irsend, f22, 343, 38);
    }  else if(cmd == "f23"){
       mySendRaw(irsend, f23, 343, 38);
    }  else if(cmd == "f24"){
       mySendRaw(irsend, f24, 343, 38);
    }  else if(cmd == "f25"){
       mySendRaw(irsend, f25, 343, 38);
    }  else if(cmd == "f26"){
       mySendRaw(irsend, f26, 343, 38);
    } else if(cmd == "c27"){
       mySendRaw(irsend, c27, 343, 38);
    }else if(cmd == "c28"){
       mySendRaw(irsend, c28, 343, 38);
    }else if(cmd == "c29"){
       mySendRaw(irsend, c29, 343, 38);
    }else if(cmd == "c30"){
       mySendRaw(irsend, c30, 343, 38);
    }
}

